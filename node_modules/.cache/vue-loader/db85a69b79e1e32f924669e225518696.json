{"remainingRequest":"D:\\workFiles\\deployweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workFiles\\deployweb\\src\\components\\others\\Health.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workFiles\\deployweb\\src\\components\\others\\Health.vue","mtime":1583747397533},{"path":"D:\\workFiles\\deployweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workFiles\\deployweb\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\workFiles\\deployweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workFiles\\deployweb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data() {\n    return {\n      loading: true,\n      rowList: [],\n      spanArr: [],\n      position: 0,\n      tableData: []\n    }\n  },\n  mounted() {\n    this.HealthData();\n  },\n  methods: {\n      HealthData(){\n          this.$axios.get(this.$api.health, ).then((response) => {\n              this.tableData = response.data['res']\n              this.rowspan()\n              this.loading = false\n          })\n      },\n      rowspan() {\n          this.tableData.forEach((item,index) => {\n              if( index === 0){\n                  this.spanArr.push(1);\n                  this.position = 0;\n              }else{\n                  if(this.tableData[index].environment === this.tableData[index-1].environment ){\n                      this.spanArr[this.position] += 1;\n                      this.spanArr.push(0);\n                  }else{\n                      this.spanArr.push(1);\n                      this.position = index;\n                  }\n              }\n          })\n      },\n      objectSpanMethod({ row, column, rowIndex, columnIndex }) {  //表格合并行\n          if (columnIndex === 0) {\n              const _row = this.spanArr[rowIndex];\n              const _col = _row>0 ? 1 : 0;\n              return {\n                  rowspan: _row,\n                  colspan: _col\n              }\n          }\n          if(columnIndex === 1){\n              const _row = this.spanArr[rowIndex];\n              const _col = _row>0 ? 1 : 0;\n              return {\n                  rowspan: _row,\n                  colspan: _col\n              }\n          }\n      }\n  }\n}\n",{"version":3,"sources":["Health.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Health.vue","sourceRoot":"src/components/others","sourcesContent":["<template>\r\n    <div>\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"3\"><h2>环境健康</h2></el-col>\r\n        </el-row>\r\n        <el-divider></el-divider>\r\n        <el-table\r\n            v-loading=\"loading\"\r\n            :data=\"tableData\"\r\n            stripe\r\n            :span-method=\"objectSpanMethod\"\r\n            style=\"width: 100%\">\r\n            <el-table-column\r\n            type=\"index\"\r\n            label=\"No.\"\r\n            width=\"50\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"environment\"\r\n            label=\"环境\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"pod\"\r\n            label=\"POD\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"status\"\r\n            label=\"状态\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"category\"\r\n            label=\"责任组\">\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        loading: true,\r\n        rowList: [],\r\n        spanArr: [],\r\n        position: 0,\r\n        tableData: []\r\n      }\r\n    },\r\n    mounted() {\r\n      this.HealthData();\r\n    },\r\n    methods: {\r\n        HealthData(){\r\n            this.$axios.get(this.$api.health, ).then((response) => {\r\n                this.tableData = response.data['res']\r\n                this.rowspan()\r\n                this.loading = false\r\n            })\r\n        },\r\n        rowspan() {\r\n            this.tableData.forEach((item,index) => {\r\n                if( index === 0){\r\n                    this.spanArr.push(1);\r\n                    this.position = 0;\r\n                }else{\r\n                    if(this.tableData[index].environment === this.tableData[index-1].environment ){\r\n                        this.spanArr[this.position] += 1;\r\n                        this.spanArr.push(0);\r\n                    }else{\r\n                        this.spanArr.push(1);\r\n                        this.position = index;\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        objectSpanMethod({ row, column, rowIndex, columnIndex }) {  //表格合并行\r\n            if (columnIndex === 0) {\r\n                const _row = this.spanArr[rowIndex];\r\n                const _col = _row>0 ? 1 : 0;\r\n                return {\r\n                    rowspan: _row,\r\n                    colspan: _col\r\n                }\r\n            }\r\n            if(columnIndex === 1){\r\n                const _row = this.spanArr[rowIndex];\r\n                const _col = _row>0 ? 1 : 0;\r\n                return {\r\n                    rowspan: _row,\r\n                    colspan: _col\r\n                }\r\n            }\r\n        }\r\n    }\r\n  }\r\n</script>"]}]}