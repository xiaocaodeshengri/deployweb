{"remainingRequest":"D:\\workFiles\\deployweb\\node_modules\\babel-loader\\lib\\index.js!D:\\workFiles\\deployweb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\workFiles\\deployweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workFiles\\deployweb\\src\\components\\environment\\Device.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workFiles\\deployweb\\src\\components\\environment\\Device.vue","mtime":1583747397520},{"path":"D:\\workFiles\\deployweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workFiles\\deployweb\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\workFiles\\deployweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workFiles\\deployweb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  props: ['categorys'],\n  data: function data() {\n    return {\n      currentPage: 1,\n      pageSize: 10,\n      total: 0,\n      editDeviceFlag: false,\n      dialogFormVisible: false,\n      category: '',\n      rackId: '',\n      racks: [],\n      deviceTypes: [{\n        'key': '服务器',\n        'value': '服务器'\n      }, {\n        'key': '交换机',\n        'value': '网络设备-交换机'\n      }, {\n        'key': '负载均衡',\n        'value': '网络设备-负载均衡'\n      }, {\n        'key': '防火墙',\n        'value': '网络设备-防火墙'\n      }],\n      deviceForm: {\n        id: '',\n        name: '',\n        category: '',\n        rack_id: '',\n        u_location: '',\n        sn: '',\n        device_type: '',\n        property_name: '',\n        hw: '',\n        hdm_ip: '',\n        mgt_ip: '',\n        usage: '',\n        remark: '',\n        extra: '',\n        username: '',\n        password: ''\n      },\n      rules: {\n        name: [{\n          required: true,\n          message: '请输入设备名称',\n          trigger: 'blur'\n        }, {\n          min: 1,\n          max: 60,\n          message: '长度在 1 到 60 个字符',\n          trigger: 'blur'\n        }],\n        category: [{\n          required: true,\n          message: '请输入所属项目组',\n          trigger: 'blur'\n        }, {\n          min: 1,\n          max: 15,\n          message: '长度在 1 到 15 个字符',\n          trigger: 'blur'\n        }],\n        rack_id: [{\n          required: true,\n          message: '请选择所在机柜',\n          trigger: 'blur'\n        }],\n        device_type: [{\n          required: true,\n          message: '请选择设备类型',\n          trigger: 'blur'\n        }],\n        mgt_ip: [{\n          required: true,\n          message: '请输入设备管理IP',\n          trigger: 'blur'\n        }, {\n          min: 1,\n          max: 20,\n          message: '长度在 1 到 20 个字符',\n          trigger: 'blur'\n        }]\n      },\n      tableDeviceData: []\n    };\n  },\n  mounted: function mounted() {\n    this.deviceList(this.category, this.rackId);\n    this.rackList();\n  },\n  methods: {\n    getRole: function getRole(num) {\n      this.role = localStorage.getItem(\"role\");\n\n      if (this.role >= num) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    rackList: function rackList() {\n      var _this = this;\n\n      this.$axios.get(this.$api.rackList, {\n        params: {\n          page: 1,\n          size: 100\n        }\n      }).then(function (response) {\n        _this.racks = response.data['res'];\n      });\n    },\n    deviceList: function deviceList(category, rackId) {\n      var _this2 = this;\n\n      this.$axios.get(this.$api.deviceList, {\n        params: {\n          page: this.currentPage,\n          size: this.pageSize,\n          category: category,\n          rack_id: rackId\n        }\n      }).then(function (response) {\n        _this2.tableDeviceData = response.data['res'];\n        _this2.total = response.data['total'];\n      });\n    },\n    handleSizeChange: function handleSizeChange(val) {\n      this.pageSize = val;\n      this.deviceList(this.category, this.rackId);\n    },\n    handleCurrentChange: function handleCurrentChange(val) {\n      this.currentPage = val;\n      this.deviceList(this.category, this.rackId);\n    },\n    filterByCategory: function filterByCategory() {\n      this.deviceList(this.category, this.rackId);\n    },\n    filterByRack: function filterByRack() {\n      this.deviceList(this.category, this.rackId);\n    },\n    refreshList: function refreshList() {\n      this.currentPage = 1;\n      this.rackId = null;\n      this.category = null;\n      this.deviceList(this.category, this.rackId);\n    },\n    initDeviceForm: function initDeviceForm() {\n      this.deviceForm.name = null, this.deviceForm.category = localStorage.getItem('category'), this.deviceForm.rack_id = null, this.deviceForm.u_location = null, this.deviceForm.sn = null, this.deviceForm.device_type = null, this.deviceForm.property_name = null, this.deviceForm.hw = null, this.deviceForm.hdm_ip = null, this.deviceForm.mgt_ip = null, this.deviceForm.usage = null, this.deviceForm.remark = null, this.deviceForm.username = 'root', this.deviceForm.password = null;\n    },\n    addBtn: function addBtn() {\n      this.initDeviceForm();\n      this.editDeviceFlag = false;\n      this.dialogFormVisible = true;\n    },\n    editDevice: function editDevice(id) {\n      var _this3 = this;\n\n      this.editDeviceFlag = true;\n      this.$axios.get(this.$api.deviceManage + '/' + id).then(function (response) {\n        _this3.deviceForm.id = id;\n        _this3.deviceForm.name = response.data['res']['name'];\n        _this3.deviceForm.category = response.data['res']['category'];\n        _this3.deviceForm.rack_id = response.data['res']['rack_id'];\n        _this3.deviceForm.u_location = response.data['res']['u_location'];\n        _this3.deviceForm.sn = response.data['res']['sn'];\n        _this3.deviceForm.device_type = response.data['res']['device_type'];\n        _this3.deviceForm.property_name = response.data['res']['property_name'];\n        _this3.deviceForm.hw = response.data['res']['hw'];\n        _this3.deviceForm.hdm_ip = response.data['res']['hdm_ip'];\n        _this3.deviceForm.mgt_ip = response.data['res']['mgt_ip'];\n        _this3.deviceForm.usage = response.data['res']['usage'];\n        _this3.deviceForm.remark = response.data['res']['remark'];\n        _this3.deviceForm.username = response.data['res']['username'];\n        _this3.deviceForm.password = response.data['res']['password'];\n      });\n      this.dialogFormVisible = true;\n    },\n    deleteDevice: function deleteDevice(id) {\n      var _this4 = this;\n\n      this.$axios.delete(this.$api.deviceManage + '/' + id).then(function (response) {\n        if (_this4.messageShow(_this4, response)) {\n          _this4.deviceList(_this4.category, _this4.rackId);\n        }\n      }).catch(function (error) {\n        _this4.errorMessageShow(_this4, error.response);\n      });\n    },\n    addDeviceBtn: function addDeviceBtn() {\n      var _this5 = this;\n\n      var data = {\n        \"name\": this.deviceForm.name,\n        \"category\": this.deviceForm.category,\n        \"rack_id\": this.deviceForm.rack_id,\n        \"u_location\": this.deviceForm.u_location,\n        \"sn\": this.deviceForm.sn,\n        \"device_type\": this.deviceForm.device_type,\n        \"property_name\": this.deviceForm.property_name,\n        \"hw\": this.deviceForm.hw,\n        \"hdm_ip\": this.deviceForm.hdm_ip,\n        \"mgt_ip\": this.deviceForm.mgt_ip,\n        \"usage\": this.deviceForm.usage,\n        \"remark\": this.deviceForm.remark,\n        \"username\": this.deviceForm.username,\n        \"password\": this.deviceForm.password\n      };\n      this.$axios.post(this.$api.deviceManage, data).then(function (response) {\n        if (_this5.messageShow(_this5, response)) {\n          _this5.dialogFormVisible = false;\n\n          _this5.deviceList(_this5.category, _this5.rackId);\n        }\n      }).catch(function (error) {\n        _this5.errorMessageShow(_this5, error.response);\n      });\n    },\n    editDeviceBtn: function editDeviceBtn(id) {\n      var _this6 = this;\n\n      var data = {\n        \"name\": this.deviceForm.name,\n        \"category\": this.deviceForm.category,\n        \"rack_id\": this.deviceForm.rack_id,\n        \"u_location\": this.deviceForm.u_location,\n        \"sn\": this.deviceForm.sn,\n        \"device_type\": this.deviceForm.device_type,\n        \"property_name\": this.deviceForm.property_name,\n        \"hw\": this.deviceForm.hw,\n        \"hdm_ip\": this.deviceForm.hdm_ip,\n        \"mgt_ip\": this.deviceForm.mgt_ip,\n        \"usage\": this.deviceForm.usage,\n        \"remark\": this.deviceForm.remark,\n        \"username\": this.deviceForm.username,\n        \"password\": this.deviceForm.password\n      };\n      this.$axios.put(this.$api.deviceManage + '/' + id, data).then(function (response) {\n        if (_this6.messageShow(_this6, response)) {\n          _this6.dialogFormVisible = false;\n          _this6.editDeviceFlag = false;\n\n          _this6.deviceList(_this6.category, _this6.rackId);\n        }\n      }).catch(function (error) {\n        _this6.errorMessageShow(_this6, error.response);\n      });\n    },\n    cancelBtn: function cancelBtn() {\n      this.dialogFormVisible = false;\n      this.initDeviceForm();\n      this.editDeviceFlag = false;\n    },\n    querySearch: function querySearch(queryString, cb) {\n      var categorys = this.categorys;\n      var results = queryString ? categorys.filter(this.createFilter(queryString)) : categorys;\n      cb(results);\n    },\n    createFilter: function createFilter(queryString) {\n      return function (category) {\n        return category.value.toLowerCase().indexOf(queryString.toLowerCase()) === 0;\n      };\n    }\n  }\n};",{"version":3,"sources":["Device.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"3\"><h2>设备信息</h2></el-col>\r\n          <el-col :span=\"3\" :offset=\"12\">\r\n            <el-select v-model=\"category\" filterable placeholder=\"根据项目筛选\" size=\"small\" v-on:change=\"filterByCategory\"\r\n            style=\"padding-top:19px\">\r\n              <el-option\r\n                v-for=\"item in categorys\"\r\n                :key=\"item.id\"\r\n                :label=\"item.name\"\r\n                :value=\"item.name\">\r\n              </el-option>\r\n            </el-select>          \r\n          </el-col>\r\n          <el-col :span=\"3\">\r\n            <el-select v-model=\"rackId\" filterable placeholder=\"根据机柜筛选\" size=\"small\" v-on:change=\"filterByRack\"\r\n            style=\"padding-top:19px\">\r\n              <el-option\r\n                v-for=\"item in racks\"\r\n                :key=\"item.id\"\r\n                :label=\"item.name\"\r\n                :value=\"item.id\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-col>\r\n          <el-col :span=\"1\" style=\"padding-top:19px\">\r\n                <el-button type=\"primary\" icon=\"el-icon-refresh\" size=\"mini\" plain\r\n                            @click.native=\"refreshList\">\r\n                </el-button>\r\n          </el-col>\r\n          <el-col :span=\"1\" style=padding-top:18px>\r\n            <el-button @click.native=\"addBtn()\" type=\"primary\" icon=\"el-icon-plus\" size=\"small\" circle plain></el-button>\r\n          </el-col>\r\n        </el-row>\r\n        <el-divider></el-divider>\r\n        <el-table\r\n            :data=\"tableDeviceData\"\r\n            stripe\r\n            style=\"width: 100%\">\r\n            <el-table-column type=\"expand\">\r\n                <template slot-scope=\"props\">\r\n                    <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n                        <el-form-item label=\"用户名\">\r\n                            <span>{{ props.row.username }}</span>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"密码\">\r\n                            <span>{{ props.row.password }}</span>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"HDM\">\r\n                            <span>{{ props.row.hdm_ip }}</span>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"序列号\">\r\n                            <span>{{ props.row.sn }}</span>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"资产名称\">\r\n                            <span>{{ props.row.property_name }}</span>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"硬件配置\">\r\n                            <span>{{ props.row.hw }}</span>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"用途\">\r\n                            <span>{{ props.row.usage }}</span>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"备注\">\r\n                            <span>{{ props.row.remark }}</span>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n            type=\"index\"\r\n            label=\"No.\"\r\n            width=\"50\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"name\"\r\n            label=\"名称\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"category\"\r\n            label=\"项目组\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"rack\"\r\n            label=\"所在机柜\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"u_location\"\r\n            label=\"位置\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"mgt_ip\"\r\n            label=\"管理IP\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"device_type\"\r\n            label=\"设备类型\">\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\" width=\"200\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" circle plain\r\n                                @click.native=\"editDevice(tableDeviceData[scope.$index]['id'])\">\r\n                    </el-button>\r\n                    <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" circle plain\r\n                                @click.native=\"sureView(deleteDevice,tableDeviceData[scope.$index]['id'],tableDeviceData[scope.$index]['name'])\">\r\n                    </el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <el-row type=\"flex\" justify=\"end\">\r\n          <el-col :span=\"12\" style=padding-top:24px>\r\n            <el-pagination\r\n              @size-change=\"handleSizeChange\"\r\n              @current-change=\"handleCurrentChange\"\r\n              :current-page=\"currentPage\"\r\n              :page-sizes=\"[10, 20, 50, 100]\"\r\n              :page-size=\"pageSize\"\r\n              layout=\"total, sizes, prev, pager, next, jumper\"\r\n              :total=\"total\">\r\n            </el-pagination>\r\n          </el-col>\r\n        </el-row>\r\n        \r\n        <el-dialog title=\"设备配置\" :visible.sync=\"dialogFormVisible\" width=\"50%\">\r\n          <el-form :model=\"deviceForm\" :rules=\"rules\" ref=\"deviceForm\" label-width=\"150px\" class=\"demo-deviceForm\"  label-position=\"top\">\r\n              <el-form-item label=\"名称\" prop=\"name\" size=\"small\">\r\n                  <el-input v-model=\"deviceForm.name\" class=\"commonwidth\"></el-input>\r\n              </el-form-item>\r\n              <el-row :gutter=\"10\">\r\n                  <el-col :span=\"6\">\r\n                    <el-form-item label=\"项目组\" prop=\"category\" size=\"small\">\r\n                      <el-autocomplete\r\n                      class=\"inline-input\"\r\n                      v-model=\"deviceForm.category\"\r\n                      :fetch-suggestions=\"querySearch\"\r\n                      placeholder=\"请输入所属项目组\"\r\n                      :trigger-on-focus=\"true\"\r\n                      >\r\n                      </el-autocomplete>\r\n                      <!-- <el-input v-model=\"deviceForm.category\"></el-input> -->\r\n                    </el-form-item>\r\n                  </el-col>\r\n                  <el-col :span=\"6\">\r\n                    <el-form-item label=\"所在机柜\" prop=\"rack_id\" size=\"small\">\r\n                        <el-select v-model=\"deviceForm.rack_id\" placeholder=\"请选择机柜\">\r\n                        <el-option\r\n                            v-for=\"item in racks\"\r\n                            :key=\"item.id\"\r\n                            :label=\"item.name\"\r\n                            :value=\"item.id\">\r\n                        </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                  <el-col :span=\"6\">\r\n                    <el-form-item label=\"设备类型\" prop=\"device_type\" size=\"small\">\r\n                        <el-select v-model=\"deviceForm.device_type\" placeholder=\"请选择设备类型\">\r\n                        <el-option\r\n                            v-for=\"item in deviceTypes\"\r\n                            :key=\"item.key\"\r\n                            :label=\"item.value\"\r\n                            :value=\"item.value\">\r\n                        </el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                  </el-col>\r\n              </el-row>\r\n              <el-row :gutter=\"10\">\r\n                  <el-col :span=\"6\">\r\n                    <el-form-item label=\"管理IP\" prop=\"mgt_ip\" size=\"small\">\r\n                        <el-input v-model=\"deviceForm.mgt_ip\"></el-input>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                  <el-col :span=\"6\">\r\n                    <el-form-item label=\"HDM\" prop=\"hdm_ip\" size=\"small\">\r\n                        <el-input v-model=\"deviceForm.hdm_ip\"></el-input>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                  <el-col :span=\"6\">\r\n                    <el-form-item label=\"所在位置\" prop=\"u_location\" size=\"small\">\r\n                        <el-input v-model=\"deviceForm.u_location\"></el-input>\r\n                    </el-form-item>\r\n                  </el-col>\r\n              </el-row>\r\n              <el-row :gutter=\"10\">\r\n                  <el-col :span=\"9\">\r\n                    <el-form-item label=\"管理用户名\" prop=\"username\" size=\"small\">\r\n                        <el-input v-model=\"deviceForm.username\" placeholder=\"root\"></el-input>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                  <el-col :span=\"9\">\r\n                    <el-form-item label=\"后台密码\" prop=\"password\" size=\"small\">\r\n                        <el-input v-model=\"deviceForm.password\"></el-input>\r\n                    </el-form-item>\r\n                  </el-col>\r\n              </el-row>\r\n              <el-row :gutter=\"10\">\r\n                  <el-col :span=\"9\">\r\n                    <el-form-item label=\"资产名称\" prop=\"property_name\" size=\"small\">\r\n                        <el-input v-model=\"deviceForm.property_name\"></el-input>\r\n                    </el-form-item>\r\n                  </el-col>\r\n                  <el-col :span=\"9\">\r\n                    <el-form-item label=\"序列号\" prop=\"sn\" size=\"small\">\r\n                        <el-input v-model=\"deviceForm.sn\"></el-input>\r\n                    </el-form-item>\r\n                  </el-col>\r\n              </el-row>\r\n              <el-form-item label=\"硬件配置\" prop=\"hw\" size=\"small\">\r\n                  <el-input type=\"textarea\" v-model=\"deviceForm.hw\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"用途\" prop=\"usage\" size=\"small\">\r\n                  <el-input type=\"textarea\" v-model=\"deviceForm.usage\"></el-input>\r\n              </el-form-item>\r\n              <el-form-item label=\"备注\" prop=\"remark\" size=\"small\">\r\n                  <el-input type=\"textarea\" v-model=\"deviceForm.remark\"></el-input>\r\n              </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n              <el-button @click=\"cancelBtn()\">取 消</el-button>\r\n              <el-button v-if=\"editDeviceFlag === true\" type=\"primary\" @click=\"editDeviceBtn(deviceForm['id'])\">确 定</el-button>\r\n              <el-button v-else type=\"primary\" @click=\"addDeviceBtn()\">新 建</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    props: ['categorys'],\r\n    data() {\r\n      return {\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        total: 0,\r\n        editDeviceFlag: false,\r\n        dialogFormVisible: false,\r\n        category: '',\r\n        rackId: '',\r\n        racks: [],\r\n        deviceTypes: [\r\n            {'key': '服务器', 'value': '服务器'},\r\n            {'key': '交换机', 'value': '网络设备-交换机'},\r\n            {'key': '负载均衡', 'value': '网络设备-负载均衡'},\r\n            {'key': '防火墙', 'value': '网络设备-防火墙'},\r\n        ],\r\n        deviceForm: {\r\n          id: '',\r\n          name: '',\r\n          category: '',\r\n          rack_id: '',\r\n          u_location: '',\r\n          sn: '',\r\n          device_type: '',\r\n          property_name: '',\r\n          hw: '',\r\n          hdm_ip: '',\r\n          mgt_ip: '',\r\n          usage: '',\r\n          remark: '',\r\n          extra: '',\r\n          username: '',\r\n          password: ''\r\n        },\r\n        rules: {\r\n          name: [\r\n            { required: true, message: '请输入设备名称', trigger: 'blur' },\r\n            { min: 1, max: 60, message: '长度在 1 到 60 个字符', trigger: 'blur' }\r\n          ],\r\n          category: [\r\n            { required: true, message: '请输入所属项目组', trigger: 'blur' },\r\n            { min: 1, max: 15, message: '长度在 1 到 15 个字符', trigger: 'blur' }\r\n          ],\r\n          rack_id: [\r\n            { required: true, message: '请选择所在机柜', trigger: 'blur' }\r\n          ],\r\n          device_type: [\r\n            { required: true, message: '请选择设备类型', trigger: 'blur' }\r\n          ],\r\n          mgt_ip: [\r\n            { required: true, message: '请输入设备管理IP', trigger: 'blur' },\r\n            { min: 1, max: 20, message: '长度在 1 到 20 个字符', trigger: 'blur' }\r\n          ],\r\n        },\r\n        tableDeviceData: []\r\n      }\r\n    },\r\n    mounted() {\r\n      this.deviceList(this.category, this.rackId);\r\n      this.rackList();\r\n    },\r\n    methods: {\r\n      getRole(num){\r\n        this.role = localStorage.getItem(\"role\")\r\n        if(this.role >= num){\r\n          return true\r\n        }else{\r\n          return false\r\n        }\r\n      },\r\n      rackList(){\r\n        this.$axios.get(this.$api.rackList, \r\n        {\r\n          params: {page: 1, size: 100}\r\n        }).then((response) => {\r\n            this.racks = response.data['res']\r\n        })\r\n      },\r\n      deviceList(category, rackId){\r\n        this.$axios.get(this.$api.deviceList, \r\n        {\r\n          params: {page: this.currentPage, size: this.pageSize, category: category, rack_id: rackId}\r\n        }).then((response) => {\r\n            this.tableDeviceData = response.data['res']\r\n            this.total = response.data['total']\r\n        })\r\n      },\r\n      handleSizeChange(val){\r\n        this.pageSize = val;\r\n        this.deviceList(this.category, this.rackId)\r\n      },\r\n      handleCurrentChange(val){\r\n        this.currentPage = val;\r\n        this.deviceList(this.category, this.rackId)\r\n      },\r\n      filterByCategory(){\r\n          this.deviceList(this.category, this.rackId)\r\n      },\r\n      filterByRack(){\r\n          this.deviceList(this.category, this.rackId)\r\n      },\r\n      refreshList(){\r\n          this.currentPage = 1;\r\n          this.rackId = null;\r\n          this.category = null;\r\n          this.deviceList(this.category, this.rackId);\r\n      },\r\n      initDeviceForm(){\r\n        this.deviceForm.name = null,\r\n        this.deviceForm.category = localStorage.getItem('category'),\r\n        this.deviceForm.rack_id = null,\r\n        this.deviceForm.u_location = null,\r\n        this.deviceForm.sn = null,\r\n        this.deviceForm.device_type = null,\r\n        this.deviceForm.property_name = null,\r\n        this.deviceForm.hw = null,\r\n        this.deviceForm.hdm_ip = null,\r\n        this.deviceForm.mgt_ip = null,\r\n        this.deviceForm.usage = null,\r\n        this.deviceForm.remark = null,\r\n        this.deviceForm.username = 'root',\r\n        this.deviceForm.password = null\r\n      },\r\n      addBtn(){\r\n        this.initDeviceForm()\r\n        this.editDeviceFlag = false\r\n        this.dialogFormVisible = true\r\n      },\r\n      editDevice(id){\r\n        this.editDeviceFlag = true\r\n        this.$axios.get((this.$api.deviceManage + '/' + id)).then((response) => {\r\n            this.deviceForm.id = id\r\n            this.deviceForm.name = response.data['res']['name']\r\n            this.deviceForm.category = response.data['res']['category']\r\n            this.deviceForm.rack_id = response.data['res']['rack_id']\r\n            this.deviceForm.u_location = response.data['res']['u_location']\r\n            this.deviceForm.sn = response.data['res']['sn']\r\n            this.deviceForm.device_type = response.data['res']['device_type']\r\n            this.deviceForm.property_name = response.data['res']['property_name']\r\n            this.deviceForm.hw = response.data['res']['hw']\r\n            this.deviceForm.hdm_ip = response.data['res']['hdm_ip']\r\n            this.deviceForm.mgt_ip = response.data['res']['mgt_ip']\r\n            this.deviceForm.usage = response.data['res']['usage']\r\n            this.deviceForm.remark = response.data['res']['remark']\r\n            this.deviceForm.username = response.data['res']['username']\r\n            this.deviceForm.password = response.data['res']['password']\r\n        })\r\n        this.dialogFormVisible = true\r\n      },\r\n      deleteDevice(id){\r\n        this.$axios.delete((this.$api.deviceManage + '/' + id)).then((response) => {\r\n          if (this.messageShow(this, response)){\r\n            this.deviceList(this.category, this.rackId);\r\n          }\r\n        }).catch((error) => {\r\n          this.errorMessageShow(this, error.response);\r\n        })\r\n      },\r\n      addDeviceBtn(){\r\n        let data = {\r\n          \"name\": this.deviceForm.name,\r\n          \"category\": this.deviceForm.category,\r\n          \"rack_id\": this.deviceForm.rack_id,\r\n          \"u_location\": this.deviceForm.u_location,\r\n          \"sn\": this.deviceForm.sn,\r\n          \"device_type\": this.deviceForm.device_type,\r\n          \"property_name\": this.deviceForm.property_name,\r\n          \"hw\": this.deviceForm.hw,\r\n          \"hdm_ip\": this.deviceForm.hdm_ip,\r\n          \"mgt_ip\": this.deviceForm.mgt_ip,\r\n          \"usage\": this.deviceForm.usage,\r\n          \"remark\": this.deviceForm.remark,\r\n          \"username\": this.deviceForm.username,\r\n          \"password\": this.deviceForm.password\r\n        }\r\n        this.$axios.post(this.$api.deviceManage, data).then((response) => {\r\n          if (this.messageShow(this, response)){\r\n            this.dialogFormVisible = false;\r\n            this.deviceList(this.category, this.rackId);\r\n          }\r\n        }).catch((error) => {\r\n          this.errorMessageShow(this, error.response);\r\n        })\r\n      },\r\n      editDeviceBtn(id){\r\n        let data = {\r\n          \"name\": this.deviceForm.name,\r\n          \"category\": this.deviceForm.category,\r\n          \"rack_id\": this.deviceForm.rack_id,\r\n          \"u_location\": this.deviceForm.u_location,\r\n          \"sn\": this.deviceForm.sn,\r\n          \"device_type\": this.deviceForm.device_type,\r\n          \"property_name\": this.deviceForm.property_name,\r\n          \"hw\": this.deviceForm.hw,\r\n          \"hdm_ip\": this.deviceForm.hdm_ip,\r\n          \"mgt_ip\": this.deviceForm.mgt_ip,\r\n          \"usage\": this.deviceForm.usage,\r\n          \"remark\": this.deviceForm.remark,\r\n          \"username\": this.deviceForm.username,\r\n          \"password\": this.deviceForm.password\r\n        }\r\n        this.$axios.put((this.$api.deviceManage + '/' + id), data).then((response) => {\r\n          if (this.messageShow(this, response)){\r\n            this.dialogFormVisible = false;\r\n            this.editDeviceFlag = false;\r\n            this.deviceList(this.category, this.rackId);\r\n          }\r\n        }).catch((error) => {\r\n          this.errorMessageShow(this, error.response);\r\n        })\r\n      },\r\n      cancelBtn(){\r\n        this.dialogFormVisible = false;\r\n        this.initDeviceForm();\r\n        this.editDeviceFlag = false;\r\n      },\r\n      querySearch(queryString, cb) {\r\n        var categorys = this.categorys;\r\n        var results = queryString ? categorys.filter(this.createFilter(queryString)) : categorys;\r\n        cb(results);\r\n      },\r\n      createFilter(queryString) {\r\n        return (category) => {\r\n          return (category.value.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\r\n        };\r\n      }\r\n    }\r\n  }\r\n</script>"],"sourceRoot":"src/components/environment"}]}