{"remainingRequest":"D:\\workFiles\\deployweb\\node_modules\\babel-loader\\lib\\index.js!D:\\workFiles\\deployweb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\workFiles\\deployweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\workFiles\\deployweb\\src\\components\\others\\Health.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\workFiles\\deployweb\\src\\components\\others\\Health.vue","mtime":1583747397533},{"path":"D:\\workFiles\\deployweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workFiles\\deployweb\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\workFiles\\deployweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\workFiles\\deployweb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      loading: true,\n      rowList: [],\n      spanArr: [],\n      position: 0,\n      tableData: []\n    };\n  },\n  mounted: function mounted() {\n    this.HealthData();\n  },\n  methods: {\n    HealthData: function HealthData() {\n      var _this = this;\n\n      this.$axios.get(this.$api.health).then(function (response) {\n        _this.tableData = response.data['res'];\n\n        _this.rowspan();\n\n        _this.loading = false;\n      });\n    },\n    rowspan: function rowspan() {\n      var _this2 = this;\n\n      this.tableData.forEach(function (item, index) {\n        if (index === 0) {\n          _this2.spanArr.push(1);\n\n          _this2.position = 0;\n        } else {\n          if (_this2.tableData[index].environment === _this2.tableData[index - 1].environment) {\n            _this2.spanArr[_this2.position] += 1;\n\n            _this2.spanArr.push(0);\n          } else {\n            _this2.spanArr.push(1);\n\n            _this2.position = index;\n          }\n        }\n      });\n    },\n    objectSpanMethod: function objectSpanMethod(_ref) {\n      var row = _ref.row,\n          column = _ref.column,\n          rowIndex = _ref.rowIndex,\n          columnIndex = _ref.columnIndex;\n\n      //表格合并行\n      if (columnIndex === 0) {\n        var _row = this.spanArr[rowIndex];\n\n        var _col = _row > 0 ? 1 : 0;\n\n        return {\n          rowspan: _row,\n          colspan: _col\n        };\n      }\n\n      if (columnIndex === 1) {\n        var _row2 = this.spanArr[rowIndex];\n\n        var _col2 = _row2 > 0 ? 1 : 0;\n\n        return {\n          rowspan: _row2,\n          colspan: _col2\n        };\n      }\n    }\n  }\n};",{"version":3,"sources":["Health.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,IADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,CAJA;AAKA,MAAA,SAAA,EAAA;AALA,KAAA;AAOA,GATA;AAUA,EAAA,OAVA,qBAUA;AACA,SAAA,UAAA;AACA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AAAA;;AACA,WAAA,MAAA,CAAA,GAAA,CAAA,KAAA,IAAA,CAAA,MAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CAAA,KAAA,CAAA;;AACA,QAAA,KAAA,CAAA,OAAA;;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,OAJA;AAKA,KAPA;AAQA,IAAA,OARA,qBAQA;AAAA;;AACA,WAAA,SAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA,KAAA,EAAA;AACA,YAAA,KAAA,KAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,CAAA;;AACA,UAAA,MAAA,CAAA,QAAA,GAAA,CAAA;AACA,SAHA,MAGA;AACA,cAAA,MAAA,CAAA,SAAA,CAAA,KAAA,EAAA,WAAA,KAAA,MAAA,CAAA,SAAA,CAAA,KAAA,GAAA,CAAA,EAAA,WAAA,EAAA;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,MAAA,CAAA,QAAA,KAAA,CAAA;;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,CAAA;AACA,WAHA,MAGA;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,CAAA;;AACA,YAAA,MAAA,CAAA,QAAA,GAAA,KAAA;AACA;AACA;AACA,OAbA;AAcA,KAvBA;AAwBA,IAAA,gBAxBA,kCAwBA;AAAA,UAAA,GAAA,QAAA,GAAA;AAAA,UAAA,MAAA,QAAA,MAAA;AAAA,UAAA,QAAA,QAAA,QAAA;AAAA,UAAA,WAAA,QAAA,WAAA;;AAAA;AACA,UAAA,WAAA,KAAA,CAAA,EAAA;AACA,YAAA,IAAA,GAAA,KAAA,OAAA,CAAA,QAAA,CAAA;;AACA,YAAA,IAAA,GAAA,IAAA,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA;;AACA,eAAA;AACA,UAAA,OAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAAA;AAIA;;AACA,UAAA,WAAA,KAAA,CAAA,EAAA;AACA,YAAA,KAAA,GAAA,KAAA,OAAA,CAAA,QAAA,CAAA;;AACA,YAAA,KAAA,GAAA,KAAA,GAAA,CAAA,GAAA,CAAA,GAAA,CAAA;;AACA,eAAA;AACA,UAAA,OAAA,EAAA,KADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAAA;AAIA;AACA;AAzCA;AAbA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n        <el-row :gutter=\"10\">\r\n          <el-col :span=\"3\"><h2>环境健康</h2></el-col>\r\n        </el-row>\r\n        <el-divider></el-divider>\r\n        <el-table\r\n            v-loading=\"loading\"\r\n            :data=\"tableData\"\r\n            stripe\r\n            :span-method=\"objectSpanMethod\"\r\n            style=\"width: 100%\">\r\n            <el-table-column\r\n            type=\"index\"\r\n            label=\"No.\"\r\n            width=\"50\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"environment\"\r\n            label=\"环境\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"pod\"\r\n            label=\"POD\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"status\"\r\n            label=\"状态\">\r\n            </el-table-column>\r\n            <el-table-column\r\n            prop=\"category\"\r\n            label=\"责任组\">\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        loading: true,\r\n        rowList: [],\r\n        spanArr: [],\r\n        position: 0,\r\n        tableData: []\r\n      }\r\n    },\r\n    mounted() {\r\n      this.HealthData();\r\n    },\r\n    methods: {\r\n        HealthData(){\r\n            this.$axios.get(this.$api.health, ).then((response) => {\r\n                this.tableData = response.data['res']\r\n                this.rowspan()\r\n                this.loading = false\r\n            })\r\n        },\r\n        rowspan() {\r\n            this.tableData.forEach((item,index) => {\r\n                if( index === 0){\r\n                    this.spanArr.push(1);\r\n                    this.position = 0;\r\n                }else{\r\n                    if(this.tableData[index].environment === this.tableData[index-1].environment ){\r\n                        this.spanArr[this.position] += 1;\r\n                        this.spanArr.push(0);\r\n                    }else{\r\n                        this.spanArr.push(1);\r\n                        this.position = index;\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        objectSpanMethod({ row, column, rowIndex, columnIndex }) {  //表格合并行\r\n            if (columnIndex === 0) {\r\n                const _row = this.spanArr[rowIndex];\r\n                const _col = _row>0 ? 1 : 0;\r\n                return {\r\n                    rowspan: _row,\r\n                    colspan: _col\r\n                }\r\n            }\r\n            if(columnIndex === 1){\r\n                const _row = this.spanArr[rowIndex];\r\n                const _col = _row>0 ? 1 : 0;\r\n                return {\r\n                    rowspan: _row,\r\n                    colspan: _col\r\n                }\r\n            }\r\n        }\r\n    }\r\n  }\r\n</script>"],"sourceRoot":"src/components/others"}]}